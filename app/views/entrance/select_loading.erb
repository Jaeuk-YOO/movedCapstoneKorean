<div class="modal-body" style="height:100%; margin:auto; margin-top:30%; text-align:center" vertical>
    <span id="loader_text"><%=current_user.nickname%>님에게 알맞은 추천 경로를 탐색중입니다.</span><br>
    <span id="done_text" style="display:none"><%=current_user.nickname%>님에게 알맞은 추천 경로가 탐색되었습니다.</span>
    <br>
    <br>
    <div class="loader" style="margin-left:30%;"></div>
    <img id="load_chk" src="/green_check.png" style="width:110px; display:none;">
    <br>
    <div style="margin-bottom:15%;">
        <br>
    </div>
    <div id="done" style="display:none">
        <span>지금 바로 추천 경로를 확인하세요!</span>
        <a type="button" class="btn text-center btn-block" style="background-color:#E0859A; color:black;" role="button" href="/maps/recommend_test"> 이동하기 </a>
    </div>
    <div style="margin-bottom:15%;">
        <br>
    </div>
    <div class="progress" id="progress_0">
        <div class="progress-bar progress-bar-striped bg-warning progress-bar-animated"  role="progressbar" style="width: 0%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
    </div> 
    <div class="progress" id="progress_20" style="display:none">
        <div class="progress-bar progress-bar-striped bg-warning progress-bar-animated"  role="progressbar" style="width: 20%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
    </div>    
    <div class="progress" id="progress_40" style="display:none">
        <div class="progress-bar progress-bar-striped bg-warning progress-bar-animated" id="" role="progressbar" style="width: 40%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <div class="progress" id="progress_60" style="display:none">
        <div class="progress-bar progress-bar-striped bg-warning progress-bar-animated" id="" role="progressbar" style="width: 60%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <div class="progress" id="progress_80" style="display:none">
        <div class="progress-bar progress-bar-striped bg-warning progress-bar-animated" id="" role="progressbar" style="width: 80%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
    </div>    
    <div class="progress" id="progress_100" style="display:none">
        <div class="progress-bar progress-bar-striped bg-warning progress-bar-animated" id="" role="progressbar" style="width: 100%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    
</div>
<script>
    var width = 0;
    var id = setInterval(frame, 50);
    function frame() {
        if (width >= 130) {
            clearInterval(id);
        } 
        else {
            width++; 
            if (width == 20){
                $("#progress_0").hide();
                $("#progress_20").show();
            }
            else if (width == 40){
                $("#progress_0").hide();
                $("#progress_20").hide();
                $("#progress_40").show();
            }
            else if (width == 60){
                $("#progress_0").hide();
                $("#progress_20").hide();
                $("#progress_40").hide();
                $("#progress_60").show();
            }
            else if (width == 80){
                $("#progress_0").hide();
                $("#progress_20").hide();
                $("#progress_40").hide();
                $("#progress_60").hide();
                $("#progress_80").show();  
            }
            else if (width == 100){
                $("#progress_0").hide();
                $("#progress_20").hide();
                $("#progress_40").hide();
                $("#progress_60").hide();
                $("#progress_80").hide();  
                $("#progress_100").show();  
            }
            else if (width == 120){
                $(".loader").slideUp();
                $("#loader_text").slideUp();
            }
            else if (width == 130){
                $("#load_chk").slideToggle();
                $("#done_text").slideToggle();;
                $("#done").slideToggle();
            }      
        }
    }

</script>